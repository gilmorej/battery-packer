# battery-packer
Python program to build multi-cell battery packs


Example
```
Loaded 635 capacities from CSV:
[3440, 3417, 3403, 3395, 3395, 3385, 3382, 3381, 3378, 3368, 3366, 3346, 3346, 3345, 3341, 3340, 3334, 3332, 3331, 3327, 3324, 3314, 3309, 3309, 3308, 3287, 3284, 3284, 3280, 3273, 3271, 3269, 3267, 3267, 3264, 3256, 3251, 3250, 3244, 3233, 3229, 3221, 3208, 3201, 3173, 3133, 3132, 3129, 3118, 3118, 3115, 3104, 3079, 3078, 3076, 3075, 3073, 3073, 3062, 3062, 3061, 3061, 3060, 3058, 3056, 3054, 3044, 3044, 3044, 3043, 3041, 3040, 3038, 3038, 3033, 3031, 3031, 3030, 3029, 3028, 3026, 3026, 3020, 3020, 3020, 3019, 3017, 3012, 3012, 3010, 3009, 3008, 3007, 3000, 2998, 2998, 2994, 2986, 2986, 2982, 2982, 2977, 2973, 2972, 2966, 2966, 2964, 2962, 2962, 2962, 2961, 2956, 2955, 2952, 2952, 2949, 2948, 2946, 2945, 2944, 2941, 2939, 2938, 2937, 2937, 2931, 2930, 2930, 2928, 2926, 2926, 2926, 2925, 2923, 2922, 2915, 2914, 2913, 2913, 2912, 2911, 2909, 2907, 2905, 2900, 2893, 2890, 2885, 2885, 2884, 2884, 2880, 2872, 2869, 2869, 2864, 2859, 2858, 2853, 2844, 2842, 2833, 2827, 2826, 2819, 2818, 2803, 2801, 2782, 2741, 2709, 2709, 2679, 2674, 2649, 2617, 2609, 2606, 2575, 2547, 2544, 2526, 2521, 2514, 2506, 2506, 2502, 2501, 2498, 2498, 2495, 2494, 2476, 2474, 2467, 2462, 2461, 2460, 2444, 2441, 2439, 2439, 2439, 2436, 2436, 2435, 2434, 2431, 2431, 2431, 2429, 2429, 2427, 2422, 2415, 2414, 2414, 2413, 2412, 2412, 2412, 2411, 2410, 2406, 2405, 2401, 2400, 2399, 2396, 2395, 2393, 2392, 2390, 2386, 2385, 2382, 2380, 2376, 2375, 2375, 2374, 2374, 2368, 2365, 2365, 2365, 2364, 2364, 2364, 2364, 2363, 2362, 2362, 2361, 2361, 2360, 2358, 2358, 2355, 2355, 2354, 2350, 2347, 2347, 2346, 2344, 2342, 2335, 2332, 2331, 2331, 2326, 2326, 2325, 2323, 2323, 2322, 2320, 2320, 2318, 2317, 2317, 2317, 2315, 2310, 2307, 2305, 2305, 2304, 2302, 2301, 2301, 2299, 2298, 2296, 2296, 2294, 2294, 2294, 2291, 2291, 2290, 2288, 2288, 2283, 2278, 2276, 2276, 2276, 2266, 2265, 2265, 2264, 2260, 2258, 2257, 2256, 2254, 2254, 2253, 2246, 2243, 2240, 2240, 2238, 2233, 2229, 2225, 2224, 2222, 2218, 2218, 2216, 2215, 2214, 2212, 2210, 2209, 2208, 2205, 2203, 2201, 2198, 2198, 2194, 2193, 2185, 2181, 2181, 2179, 2165, 2158, 2157, 2153, 2147, 2143, 2140, 2127, 2127, 2126, 2124, 2122, 2122, 2120, 2120, 2118, 2117, 2116, 2115, 2111, 2108, 2108, 2106, 2106, 2104, 2101, 2094, 2094, 2091, 2091, 2089, 2084, 2081, 2070, 2067, 2065, 2055, 2042, 2042, 2039, 2038, 2032, 2032, 2031, 2030, 2025, 2023, 2022, 2020, 2007, 2004, 2002, 2001, 2001, 2000, 1998, 1982, 1980, 1978, 1975, 1971, 1968, 1955, 1954, 1950, 1936, 1936, 1931, 1915, 1913, 1911, 1910, 1902, 1902, 1896, 1893, 1889, 1887, 1885, 1883, 1882, 1882, 1882, 1882, 1880, 1880, 1880, 1875, 1872, 1865, 1865, 1864, 1860, 1860, 1857, 1852, 1850, 1847, 1845, 1844, 1844, 1843, 1837, 1835, 1830, 1829, 1827, 1823, 1821, 1817, 1815, 1813, 1811, 1811, 1810, 1808, 1803, 1799, 1785, 1770, 1762, 1758, 1757, 1755, 1753, 1753, 1748, 1741, 1724, 1723, 1703, 1699, 1692, 1690, 1687, 1685, 1683, 1676, 1675, 1670, 1666, 1662, 1658, 1655, 1650, 1650, 1643, 1632, 1629, 1617, 1609, 1602, 1598, 1588, 1579, 1576, 1573, 1560, 1528, 1523, 1479, 1475, 1440, 1437, 1431, 1430, 1428, 1415, 1414, 1411, 1402, 1392, 1389, 1385, 1382, 1381, 1374, 1372, 1372, 1366, 1365, 1364, 1363, 1356, 1347, 1346, 1326, 1322, 1321, 1317, 1303, 1301, 1281, 1271, 1264, 1259, 1254, 1230, 1230, 1230, 1216, 1211, 1210, 1204, 1202, 1202, 1192, 1179, 1175, 1171, 1166, 1160, 1149, 1145, 1143, 1142, 1141, 1140, 1138, 1137, 1131, 1128, 1103, 1100, 1097, 1093, 1065, 1064, 1059, 1056, 1054, 1037, 1028, 1004, 1003, 995, 990, 987, 982, 970, 966, 963, 945, 943, 941, 940, 915, 910, 901, 898, 886, 881, 872, 868, 867, 865, 857, 855, 855, 847, 840, 837, 833, 822, 818, 804, 798, 792, 790, 788, 780, 774, 774, 774, 767, 766, 763, 760, 759, 739, 736, 713, 703, 691, 560]
Computing 14S battery with parallel packs differing by a maximum of 200 mAh and series packs differing by a maximum of 2400 mAh. Initial capacity target is `100000` mAh...
Pack 0 (Capacity: 76107 mAh: Delta: 131 mAh (3.808%)): [3440, 3417, 3403, 3395, 3395, 3385, 3382, 3381, 3378, 3368, 3366, 3346, 3346, 3345, 3341, 3340, 3334, 3332, 3331, 3327, 3324, 3314, 3309]
Pack 1 (Capacity: 75168 mAh: Delta: 177 mAh (5.349%)): [3309, 3308, 3287, 3284, 3284, 3280, 3273, 3271, 3269, 3267, 3267, 3264, 3256, 3251, 3250, 3244, 3233, 3229, 3221, 3208, 3201, 3173, 3133, 3132]
Pack 2 (Capacity: 76000 mAh: Delta: 89 mAh (2.844%)): [3129, 3118, 3118, 3115, 3104, 3079, 3078, 3076, 3075, 3073, 3073, 3062, 3062, 3061, 3061, 3060, 3058, 3056, 3054, 3044, 3044, 3044, 3043, 3041, 3040]
Pack 3 (Capacity: 74850 mAh: Delta: 44 mAh (1.448%)): [3038, 3038, 3033, 3031, 3031, 3030, 3029, 3028, 3026, 3026, 3020, 3020, 3020, 3019, 3017, 3012, 3012, 3010, 3009, 3008, 3007, 3000, 2998, 2998, 2994]
Pack 4 (Capacity: 76388 mAh: Delta: 48 mAh (1.608%)): [2986, 2986, 2982, 2982, 2977, 2973, 2972, 2966, 2966, 2964, 2962, 2962, 2962, 2961, 2956, 2955, 2952, 2952, 2949, 2948, 2946, 2945, 2944, 2941, 2939, 2938]
Pack 5 (Capacity: 75010 mAh: Delta: 52 mAh (1.771%)): [2937, 2937, 2931, 2930, 2930, 2928, 2926, 2926, 2926, 2925, 2923, 2922, 2915, 2914, 2913, 2913, 2912, 2911, 2909, 2907, 2905, 2900, 2893, 2890, 2885, 2885]
Pack 6 (Capacity: 75485 mAh: Delta: 182 mAh (6.955%)): [2617, 2609, 2606, 2575, 2547, 2544, 2526, 2521, 2514, 2506, 2506, 2502, 2501, 2498, 2498, 2495, 2494, 2476, 2474, 2467, 2462, 2461, 2460, 2444, 2441, 2439, 2439, 2439, 2436, 2436, 2435]
Pack 7 (Capacity: 76032 mAh: Delta: 58 mAh (2.383%)): [2434, 2431, 2431, 2431, 2429, 2429, 2427, 2422, 2415, 2414, 2414, 2413, 2412, 2412, 2412, 2411, 2410, 2406, 2405, 2401, 2400, 2399, 2396, 2395, 2393, 2392, 2390, 2386, 2385, 2382, 2380, 2376]
Pack 8 (Capacity: 76923 mAh: Delta: 44 mAh (1.853%)): [2375, 2375, 2374, 2374, 2368, 2365, 2365, 2365, 2364, 2364, 2364, 2364, 2363, 2362, 2362, 2361, 2361, 2360, 2358, 2358, 2355, 2355, 2354, 2350, 2347, 2347, 2346, 2344, 2342, 2335, 2332, 2331, 2331]
Pack 9 (Capacity: 75504 mAh: Delta: 38 mAh (1.634%)): [2326, 2326, 2325, 2323, 2323, 2322, 2320, 2320, 2318, 2317, 2317, 2317, 2315, 2310, 2307, 2305, 2305, 2304, 2302, 2301, 2301, 2299, 2298, 2296, 2296, 2294, 2294, 2294, 2291, 2291, 2290, 2288, 2288]
Pack 10 (Capacity: 75106 mAh: Delta: 74 mAh (3.241%)): [2283, 2278, 2276, 2276, 2276, 2266, 2265, 2265, 2264, 2260, 2258, 2257, 2256, 2254, 2254, 2253, 2246, 2243, 2240, 2240, 2238, 2233, 2229, 2225, 2224, 2222, 2218, 2218, 2216, 2215, 2214, 2212, 2210, 2209]
Pack 11 (Capacity: 75816 mAh: Delta: 102 mAh (4.62%)): [2208, 2205, 2203, 2201, 2198, 2198, 2194, 2193, 2185, 2181, 2181, 2179, 2165, 2158, 2157, 2153, 2147, 2143, 2140, 2127, 2127, 2126, 2124, 2122, 2122, 2120, 2120, 2118, 2117, 2116, 2115, 2111, 2108, 2108, 2106, 2106]
Pack 12 (Capacity: 74784 mAh: Delta: 136 mAh (6.464%)): [2104, 2101, 2094, 2094, 2091, 2091, 2089, 2084, 2081, 2070, 2067, 2065, 2055, 2042, 2042, 2039, 2038, 2032, 2032, 2031, 2030, 2025, 2023, 2022, 2020, 2007, 2004, 2002, 2001, 2001, 2000, 1998, 1982, 1980, 1978, 1975, 1971, 1968]
Pack 13 (Capacity: 75317 mAh: Delta: 118 mAh (6.036%)): [1955, 1954, 1950, 1936, 1936, 1931, 1915, 1913, 1911, 1910, 1902, 1902, 1896, 1893, 1889, 1887, 1885, 1883, 1882, 1882, 1882, 1882, 1880, 1880, 1880, 1875, 1872, 1865, 1865, 1864, 1860, 1860, 1857, 1852, 1850, 1847, 1845, 1844, 1844, 1843, 1837]

Pack is valid. Created 14S 74.78 Ah (3769.0 Wh) battery pack.
Maximum capacity delta between packs is 2139 (2.781%)
Total Cells: 427 / 635
Discarded Cells: 208 -> [2884, 2884, 2880, 2872, 2869, 2869, 2864, 2859, 2858, 2853, 2844, 2842, 2833, 2827, 2826, 2819, 2818, 2803, 2801, 2782, 2741, 2709, 2709, 2679, 2674, 2649, 1632, 1629, 1617, 1609, 1602, 1598, 1588, 1579, 1576, 1573, 1560, 1528, 1523, 1479, 1475, 1028, 1004, 1003, 995, 990, 987, 982, 970, 966, 963, 1835, 1830, 1829, 1827, 1823, 1821, 1817, 1815, 1813, 1811, 1811, 1810, 1808, 1803, 1799, 1785, 1770, 1762, 1758, 1757, 1755, 1753, 1753, 1748, 1741, 1724, 1723, 1703, 1699, 1692, 1690, 1687, 1685, 1683, 1676, 1675, 1670, 1666, 1662, 1658, 1655, 1650, 1650, 1643, 1440, 1437, 1431, 1430, 1428, 1415, 1414, 1411, 1402, 1392, 1389, 1385, 1382, 1381, 1374, 1372, 1372, 1366, 1365, 1364, 1363, 1356, 1347, 1346, 1326, 1322, 1321, 1317, 1303, 1301, 1281, 1271, 1264, 1259, 1254, 1230, 1230, 1230, 1216, 1211, 1210, 1204, 1202, 1202, 1192, 1179, 1175, 1171, 1166, 1160, 1149, 1145, 1143, 1142, 1141, 1140, 1138, 1137, 1131, 1128, 1103, 1100, 1097, 1093, 1065, 1064, 1059, 1056, 1054, 1037, 945, 943, 941, 940, 915, 910, 901, 898, 886, 881, 872, 868, 867, 865, 857, 855, 855, 847, 840, 837, 833, 822, 818, 804, 798, 792, 790, 788, 780, 774, 774, 774, 767, 766, 763, 760, 759, 739, 736, 713, 703, 691, 560]
```
